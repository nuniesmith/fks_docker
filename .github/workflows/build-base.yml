name: Build and Push Docker Base Images

on:
  # Deprecated - use cpu.yml, ml.yml, or gpu.yml for individual base builds
  # This workflow is kept for backward compatibility only
  workflow_dispatch:
    inputs:
      build_cpu:
        description: "Build CPU base"
        required: false
        default: true
        type: boolean
      build_ml:
        description: "Build ML base"
        required: false
        default: true
        type: boolean
      build_gpu:
        description: "Build GPU base"
        required: false
        default: true
        type: boolean

jobs:
  build-all-bases:
    uses: nuniesmith/fks_actions/.github/workflows/build-docker-base-images.yml@main
    with:
      docker_repo: nuniesmith/fks
      build_cpu: ${{ github.event.inputs.build_cpu || true }}
      build_ml: ${{ github.event.inputs.build_ml || true }}
      build_gpu: ${{ github.event.inputs.build_gpu || true }}
    secrets:
      DOCKER_TOKEN: ${{ secrets.DOCKER_TOKEN }}
